(function(a){a.fn.dragdrop=function(b){var c=a.extend({},a.fn.dragdrop.defaults,b);var d=0;var e=0;return this.each(function(){var b=a(this);var f=b.find(".draggable");var g=b.find(".droppable");if(c.action===null||c.action===undefined){g.text(c.messages.error);return}f.draggable({cursor:c.styles.cursor,start:function(a,b){g.addClass(c.styles.highlight)},stop:function(a,b){g.removeClass(c.styles.highlight)},revert:function(b){a(this).data("draggable").originalPosition={top:0,left:0};g.text("");a(this).removeClass(c.styles.dragging);return!b}});g.droppable({activate:function(a,b){d=b.draggable.position().left;e=b.draggable.position().top;b.draggable.addClass(c.styles.dragging);g.text(c.messages.droppable)},drop:function(b,f){var g=a(this);var h=f.draggable;var i=f.draggable.attr(c.identifier);g.text(c.messages.dropped);a.post(c.action,{id:i},function(a){h.removeClass(c.styles.dragging);h.offset({left:d,top:e});g.text(a)}).error(function(a,b,f){if(c.action==undefined||c.action==null){g.text(c.errorText)}else{g.text(b)}h.removeClass(c.styles.dragging);h.offset({left:d,top:e})})}})})};a.fn.dragdrop.defaults={styles:{dragging:"dcf-dragging",highlight:"dcf-highlight",cursor:"move"},messages:{droppable:"Please drop your element here.",dropped:"Your element was dropped.",error:"Please provide a valid action method to call when the draggable item is dropped inside the zone."},identifier:"data-id",action:null}})(jQuery)